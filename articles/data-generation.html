<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Generation for topdownr • topdownr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Generation for topdownr">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">topdownr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/analysis.html">Fragmentation Analysis with topdownr</a>
    </li>
    <li>
      <a href="../articles/data-generation.html">Data Generation for topdownr</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sgibb/topdownr/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Data Generation for topdownr</h1>
                        <h4 class="author">Pavel V. Shliaha</h4>
            <address class="author_afil">
      Department of Biochemistry and Molecular Biology, University of Southern Denmark, Denmark.<br><h4 class="author">Sebastian Gibb</h4>
            <address class="author_afil">
      Department of Anesthesiology and Intensive Care, University Medicine Greifswald, Germany.<br><h4 class="author">Ole Nørregaard Jensen</h4>
            <address class="author_afil">
      Department of Biochemistry and Molecular Biology, University of Southern Denmark, Denmark.<br><small class="dont-index">Source: <a href="https://github.com/sgibb/topdownr//blob/master/vignettes/data-generation.Rmd"><code>vignettes/data-generation.Rmd</code></a></small>
      <div class="hidden name"><code>data-generation.Rmd</code></div>

    </address>
</address>
</address>
</div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      This vignette describes the setup and the data preparation to create the input files needed for the analysis with the functionality the <code>topdownr</code> package.
    </div>
    
<div id="foreword" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#foreword" class="anchor"></a>Foreword</h1>
<p><a href="http://bioconductor.org/packages/topdownr"><em>topdownr</em></a> is free and open-source software. If you use it, please support the project by citing it in publications:</p>
<p>P.V. Shliaha, S. Gibb, V. Gorshkov, M.S. Jespersen, G.R. Andersen, D. Bailey, J. Schwartz, S. Eliuk, V. Schwämmle, and O.N. Jensen. 2018. Maximizing Sequence Coverage in Top-Down Proteomics By Automated Multi-modal Gas-phase Protein Fragmentation. Analytical Chemistry. DOI: <a href="https://doi.org/10.1021/acs.analchem.8b02344">10.1021/acs.analchem.8b02344</a></p>
</div>
<div id="questions-and-bugs" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#questions-and-bugs" class="anchor"></a>Questions and bugs</h1>
<p>For bugs, typos, suggestions or other questions, please file an issue in our tracking system (<a href="https://github.com/sgibb/topdownr/issues" class="uri">https://github.com/sgibb/topdownr/issues</a>) providing as much information as possible, a reproducible example and the output of <code>sessionInfo()</code>.</p>
<p>If you don’t have a GitHub account or wish to reach a broader audience for general questions about proteomics analysis using R, you may want to use the Bioconductor support site: <a href="https://support.bioconductor.org/" class="uri">https://support.bioconductor.org/</a>.</p>
</div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<div id="the-topdownr-data-generation-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#the-topdownr-data-generation-workflow" class="anchor"></a>The <code>topdownr</code> Data Generation Workflow</h2>
<div class="figure">
<img src="images/workflow/data-generation.mmd.png" alt="Data Generation Workflow"><p class="caption">Data Generation Workflow</p>
</div>
</div>
</div>
<div id="installation-of-additional-software" class="section level1">
<h1 class="hasAnchor">
<a href="#installation-of-additional-software" class="anchor"></a>Installation of Additional Software</h1>
<div id="setup-the-thermo-software" class="section level2">
<h2 class="hasAnchor">
<a href="#setup-the-thermo-software" class="anchor"></a>Setup the Thermo Software</h2>
<p>To create methods the user will have to install and modify Orbitrap Fusion LUMOS workstation first:</p>
<ol style="list-style-type: decimal">
<li>Request <code>OrbitrapFusionLumosWorkstation.exe</code> from Thermo Scientific.</li>
<li>Install the workstation by running <code>OrbitrapFusionLumosWorkstation.exe</code>.</li>
<li>Run <code>C:\Thermo\Instruments\TNG\OrbitrapFusionLumos\2.1\System\programs\TNGInstrumentConfigControl.exe</code>, set <em>Optional Ion Source</em> to <em>ETD and Internal Calibration</em>, click <em>Apply</em> and <em>OK</em> (you could ignore the <em>restart your instrument</em> message).</li>
<li>Replace <code>C:\Thermo\Instruments\TNG\OrbitrapFusionLumos\2.1\System\programs\Thermo.TNG.Calcium.MethodXML.dll</code> by <code>Thermo.TNG.Calcium.MethodXML.dll</code>.</li>
</ol>
</div>
<div id="setup-xmlmethodchanger" class="section level2">
<h2 class="hasAnchor">
<a href="#setup-xmlmethodchanger" class="anchor"></a>Setup XMLMethodChanger</h2>
<p><em>XMLMethodChanger</em> is needed to convert the xml methods into <code>.meth</code> files. It could be found at <a href="https://github.com/thermofisherlsms/meth-modifications" class="uri">https://github.com/thermofisherlsms/meth-modifications</a> The user has to download and compile it himself (or request it from Thermo Scientific as well).</p>
</div>
<div id="setup-operating-system" class="section level2">
<h2 class="hasAnchor">
<a href="#setup-operating-system" class="anchor"></a>Setup Operating System</h2>
<p>In order to use <em>XMLMethodChanger</em> the operating system has to use the <code>.</code> (dot) as decimal mark and the <code>,</code> (comma) as digit group separator (one thousand dot two should be formated as <code>1,000.2</code>).</p>
<p>In <em>Windows 7</em> the settings are located at <code>Windows Control Panel &gt; Region and Language &gt; Formats</code>. Choose <em>English (USA)</em> here or use the <em>Additional settings</em> button to change it manually.</p>
</div>
<div id="setup-scanheadsman" class="section level2">
<h2 class="hasAnchor">
<a href="#setup-scanheadsman" class="anchor"></a>Setup ScanHeadsman</h2>
<p>After data aquisition <code>topdownr</code> would need the header information from the <code>.raw</code> files. Therefore the <em>ScanHeadsman</em> software is used. It could be downloaded from <a href="https://bitbucket.org/caetera/scanheadsman" class="uri">https://bitbucket.org/caetera/scanheadsman</a></p>
<p>It requires Microsoft <strong>.NET 4.5</strong> or later (it is often preinstalled on a typical modern Windows or could be found in Microsoft’s Download Center, e.g. <a href="https://www.microsoft.com/en-us/download/details.aspx?id=30653" class="uri">https://www.microsoft.com/en-us/download/details.aspx?id=30653</a>). Additionally you would need Thermo’s <em>MS File Reader</em> which could be downloaded free of charge (but you have to register) from the Thermo FlexNet website: <a href="https://thermo.flexnetoperations.com/" class="uri">https://thermo.flexnetoperations.com/</a></p>
<p><em>ScanHeadsman</em> was created by Vladimir Gorshkov <a href="mailto:vgor@bmb.sdu.dk">vgor@bmb.sdu.dk</a>.</p>
</div>
</div>
<div id="creating-methods" class="section level1">
<h1 class="hasAnchor">
<a href="#creating-methods" class="anchor"></a>Creating Methods</h1>
<p>Importantly, <em>XMLmethodChanger</em> does not create methods <em>de novo</em>, but modifies pre-existing methods (supplied with <em>XMLMethodChanger</em>) using modifications described in XML files. Thus the whole process of creating user specified methods consists of 2 parts:</p>
<ol style="list-style-type: decimal">
<li>Construction of XML files with all possible combination of fragmentation parameters (see <code><a href="../reference/writeMethodXmls.html">topdownr::writeMethodXmls</a></code> below).</li>
<li>Submitting the constructed XML files together with a template <code>.meth</code> file to <em>XMLmethodChanger</em>.</li>
</ol>
<p>We choose to use targeted MS2 scans (TMS2) as a way to store the fragmentation parameters. Each TMS2 is stored in a separate experiment. Experiments do not overlap.</p>
<div class="figure">
<img src="images/methodeditor-exp21.png" alt="Method Editor - Experiment 21"><p class="caption">Method Editor - Experiment 21</p>
</div>
</div>
<div id="data-preparation-with-topdownr" class="section level1">
<h1 class="hasAnchor">
<a href="#data-preparation-with-topdownr" class="anchor"></a>Data preparation with <code>topdownr</code>
</h1>
<p>Shown below is the process of creating XML files and using them to modify the <em>TMS2IndependentTemplateForTD.meth</em> template file.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(<span class="st">"topdownr"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">## MS1 parameters (you could also use and modify</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">## the output of `defaultMs1Settings()`)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">parMS1 &lt;-<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="dt">FirstMass =</span> <span class="dv">400</span>,</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    <span class="dt">LastMass =</span> <span class="dv">1600</span>,</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="dt">Microscans =</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb1-10" data-line-number="10"></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">## MS2 parameters (you could also use and modify</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">## the output of `defaultMs2Settings()`)</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">parMS2  &lt;-<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">    <span class="dt">OrbitrapResolution =</span> <span class="st">"R120K"</span>,</a>
<a class="sourceLine" id="cb1-15" data-line-number="15">    <span class="dt">IsolationWindow =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-16" data-line-number="16">    <span class="dt">MaxITTimeInMS =</span> <span class="dv">200</span>,</a>
<a class="sourceLine" id="cb1-17" data-line-number="17">    <span class="dt">ETDSupplementalActivation =</span> <span class="kw">c</span>(<span class="st">"ETciD"</span>, <span class="st">"EThcD"</span>),</a>
<a class="sourceLine" id="cb1-18" data-line-number="18">    <span class="dt">ActivationType =</span> <span class="st">"ETD"</span>,</a>
<a class="sourceLine" id="cb1-19" data-line-number="19">    <span class="dt">Microscans =</span> <span class="dv">40</span>,</a>
<a class="sourceLine" id="cb1-20" data-line-number="20">    <span class="dt">ETDSupplementalActivationEnergy =</span> <span class="kw">seq</span> (<span class="dv">0</span>, <span class="dv">35</span>, <span class="dv">7</span>),</a>
<a class="sourceLine" id="cb1-21" data-line-number="21">    <span class="dt">ETDReactionTime =</span> <span class="kw">c</span> (<span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">30</span>, <span class="dv">50</span>),</a>
<a class="sourceLine" id="cb1-22" data-line-number="22">    <span class="dt">ETDReagentTarget =</span> <span class="kw">c</span>(<span class="fl">1e6</span>, <span class="fl">5e6</span>, <span class="fl">1e7</span>),</a>
<a class="sourceLine" id="cb1-23" data-line-number="23">    <span class="dt">AgcTarget =</span> <span class="kw">c</span>(<span class="fl">1e5</span>, <span class="fl">5e5</span>, <span class="fl">1e6</span>)</a>
<a class="sourceLine" id="cb1-24" data-line-number="24">)</a>
<a class="sourceLine" id="cb1-25" data-line-number="25"></a>
<a class="sourceLine" id="cb1-26" data-line-number="26">## Create the XML files for mz == 707</a>
<a class="sourceLine" id="cb1-27" data-line-number="27"><span class="kw"><a href="../reference/writeMethodXmls.html">writeMethodXmls</a></span>(<span class="dt">ms1Settings =</span> parMS1,</a>
<a class="sourceLine" id="cb1-28" data-line-number="28">                <span class="dt">ms2Settings =</span> parMS2,</a>
<a class="sourceLine" id="cb1-29" data-line-number="29">                <span class="dt">replications =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-30" data-line-number="30">                <span class="dt">groupBy =</span> <span class="st">"ETDReagentTarget"</span>,</a>
<a class="sourceLine" id="cb1-31" data-line-number="31">                <span class="dt">mz =</span> <span class="kw">cbind</span>(<span class="dt">mass=</span><span class="fl">707.3</span>, <span class="dt">z=</span><span class="dv">1</span>),</a>
<a class="sourceLine" id="cb1-32" data-line-number="32">                <span class="dt">massLabeling =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb1-33" data-line-number="33">                <span class="dt">nMs2perMs1 =</span> <span class="dv">1000</span>,</a>
<a class="sourceLine" id="cb1-34" data-line-number="34">                <span class="dt">duration =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb1-35" data-line-number="35">                <span class="dt">randomise =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb1-36" data-line-number="36">                <span class="dt">pattern =</span> <span class="st">"method707_%s.xml"</span>)</a>
<a class="sourceLine" id="cb1-37" data-line-number="37"></a>
<a class="sourceLine" id="cb1-38" data-line-number="38">## Create the XML files for mz == 893</a>
<a class="sourceLine" id="cb1-39" data-line-number="39"><span class="kw"><a href="../reference/writeMethodXmls.html">writeMethodXmls</a></span>(<span class="dt">ms1Settings =</span> parMS1,</a>
<a class="sourceLine" id="cb1-40" data-line-number="40">                <span class="dt">ms2Settings =</span> parMS2,</a>
<a class="sourceLine" id="cb1-41" data-line-number="41">                <span class="dt">replications =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-42" data-line-number="42">                <span class="dt">groupBy =</span> <span class="st">"ETDReagentTarget"</span>,</a>
<a class="sourceLine" id="cb1-43" data-line-number="43">                <span class="dt">mz =</span> <span class="kw">cbind</span>(<span class="dt">mass=</span><span class="fl">893.1</span>, <span class="dt">z=</span><span class="dv">1</span>),</a>
<a class="sourceLine" id="cb1-44" data-line-number="44">                <span class="dt">massLabeling =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb1-45" data-line-number="45">                <span class="dt">nMs2perMs1 =</span> <span class="dv">1000</span>,</a>
<a class="sourceLine" id="cb1-46" data-line-number="46">                <span class="dt">duration =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb1-47" data-line-number="47">                <span class="dt">randomise =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb1-48" data-line-number="48">                <span class="dt">pattern =</span> <span class="st">"method893_%s.xml"</span>)</a>
<a class="sourceLine" id="cb1-49" data-line-number="49"></a>
<a class="sourceLine" id="cb1-50" data-line-number="50">## Create the XML files for mz == 1211</a>
<a class="sourceLine" id="cb1-51" data-line-number="51"><span class="kw"><a href="../reference/writeMethodXmls.html">writeMethodXmls</a></span>(<span class="dt">ms1Settings =</span> parMS1,</a>
<a class="sourceLine" id="cb1-52" data-line-number="52">                <span class="dt">ms2Settings =</span> parMS2,</a>
<a class="sourceLine" id="cb1-53" data-line-number="53">                <span class="dt">replications =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-54" data-line-number="54">                <span class="dt">groupBy =</span> <span class="st">"ETDReagentTarget"</span>,</a>
<a class="sourceLine" id="cb1-55" data-line-number="55">                <span class="dt">mz =</span> <span class="kw">cbind</span>(<span class="dt">mass=</span><span class="fl">1211.7</span>, <span class="dt">z=</span><span class="dv">1</span>),</a>
<a class="sourceLine" id="cb1-56" data-line-number="56">                <span class="dt">massLabeling =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb1-57" data-line-number="57">                <span class="dt">nMs2perMs1 =</span> <span class="dv">1000</span>,</a>
<a class="sourceLine" id="cb1-58" data-line-number="58">                <span class="dt">duration =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb1-59" data-line-number="59">                <span class="dt">randomise =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb1-60" data-line-number="60">                <span class="dt">pattern =</span> <span class="st">"method1211_%s.xml"</span>)</a>
<a class="sourceLine" id="cb1-61" data-line-number="61"></a>
<a class="sourceLine" id="cb1-62" data-line-number="62">## Run XMLMethodChanger</a>
<a class="sourceLine" id="cb1-63" data-line-number="63"><span class="kw"><a href="../reference/windows-specific-functions.html">runXmlMethodChanger</a></span>(</a>
<a class="sourceLine" id="cb1-64" data-line-number="64">    <span class="dt">modificationXml=</span><span class="kw">list.files</span>(<span class="dt">pattern=</span><span class="st">"^method.*</span><span class="ch">\\</span><span class="st">.xml$"</span>),</a>
<a class="sourceLine" id="cb1-65" data-line-number="65">    <span class="dt">templateMeth=</span><span class="st">"TMS2IndependentTemplateForTD.meth"</span>,</a>
<a class="sourceLine" id="cb1-66" data-line-number="66">    <span class="dt">executable=</span><span class="st">"path</span><span class="ch">\\</span><span class="st">to</span><span class="ch">\\</span><span class="st">XmlMethodChanger.exe"</span></a>
<a class="sourceLine" id="cb1-67" data-line-number="67">)</a></code></pre></div>
</div>
<div id="data-acquisition" class="section level1">
<h1 class="hasAnchor">
<a href="#data-acquisition" class="anchor"></a>Data Acquisition</h1>
<p>After setting up direct infusion make sure that MS1 spectrum produces expected protein mass after deconvolution by <em>Xtract</em>. Shown below is a deconvoluted MS1 spectrum for myoglobin. The dominant mass corresponds to myoglobin with Met removed.</p>
<div class="figure">
<img src="images/xtract-myo.png" alt="Xtract myoglobin"><p class="caption">Xtract myoglobin</p>
</div>
</div>
<div id="data-preparation" class="section level1">
<h1 class="hasAnchor">
<a href="#data-preparation" class="anchor"></a>Data Preparation</h1>
<p>Prior to <code>R</code> analysis of protein fragmentation data we have to convert the <code>.raw</code> files.</p>
<div id="extracting-header-information" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-header-information" class="anchor"></a>Extracting Header Information</h2>
<p>Some of the information (SpectrumId, Ion Injection Time (ms), Orbitrap Resolution, targeted Mz, ETD reaction time, CID activation and HCD activation) is stored in scan headers, while other (ETD reagent target and AGC target) is only available in method table.</p>
<p>You can run <em>ScanHeadsman</em> from the commandline (<code>ScanHeadsman.exe --noMS --methods:CSV</code>) or use the function provided by <code>topdownr</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/windows-specific-functions.html">runScanHeadsman</a></span>(</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">    <span class="dt">path=</span><span class="st">"path</span><span class="ch">\\</span><span class="st">to</span><span class="ch">\\</span><span class="st">raw-files"</span>,</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">    <span class="dt">executable=</span><span class="st">"path</span><span class="ch">\\</span><span class="st">to</span><span class="ch">\\</span><span class="st">ScanHeadsman.exe"</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">)</a></code></pre></div>
<p><em>ScanHeadsman</em> will generate a <code>.txt</code> (scan header table) and a <code>.csv</code> (method table) file for each <code>.raw</code> file.</p>
</div>
<div id="convert--raw-files-into-mzml" class="section level2">
<h2 class="hasAnchor">
<a href="#convert--raw-files-into-mzml" class="anchor"></a>Convert .raw files into mzML</h2>
<p>The spectra have to be charge state deconvoluted with <em>Xtract</em> node in <em>Proteome Discoverer 2.1</em>. The software returns deconvoluted spectra in mzML format.</p>
<div class="figure">
<img src="images/proteomediscoverer.png" alt="Proteome Discoverer"><p class="caption">Proteome Discoverer</p>
</div>
<p>Once a <code>.csv</code>, <code>.txt</code>, and <code>.mzML</code> file for each <code>.raw</code> have been produced we can start the analysis using <code>topdownr</code>. Please see <em>analysis</em> vignette (<code><a href="../articles/analysis.html">vignette("analysis", package="topdownr")</a></code>) for an example.</p>
</div>
</div>
<div id="session-info" class="section level1">
<h1 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session Info</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">sessionInfo</span>()</a></code></pre></div>
<pre><code>## R version 3.5.1 (2017-01-27)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 14.04.5 LTS
## 
## Matrix products: default
## BLAS: /home/travis/R-bin/lib/R/lib/libRblas.so
## LAPACK: /home/travis/R-bin/lib/R/lib/libRlapack.so
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats4    parallel  stats     graphics  grDevices utils     datasets 
## [8] methods   base     
## 
## other attached packages:
## [1] topdownr_1.3.6      Biostrings_2.49.2   XVector_0.21.4     
## [4] IRanges_2.15.19     S4Vectors_0.19.24   ProtGenerics_1.13.0
## [7] BiocGenerics_0.27.1 BiocStyle_2.9.6    
## 
## loaded via a namespace (and not attached):
##  [1] xfun_0.4              lattice_0.20-35       colorspace_1.3-2     
##  [4] htmltools_0.3.6       yaml_2.2.0            vsn_3.49.1           
##  [7] XML_3.98-1.16         rlang_0.3.0.1         pkgdown_1.1.0        
## [10] pillar_1.3.0          MSnbase_2.7.12        mzR_2.15.5           
## [13] BiocParallel_1.15.15  affy_1.59.1           foreach_1.4.4        
## [16] affyio_1.51.0         plyr_1.8.4            mzID_1.19.0          
## [19] stringr_1.3.1         zlibbioc_1.27.0       munsell_0.5.0        
## [22] pcaMethods_1.73.1     commonmark_1.6        gtable_0.2.0         
## [25] codetools_0.2-15      memoise_1.1.0         evaluate_0.12        
## [28] Biobase_2.41.2        knitr_1.20            doParallel_1.0.14    
## [31] preprocessCore_1.43.0 Rcpp_0.12.19          backports_1.1.2      
## [34] scales_1.0.0          BiocManager_1.30.3    limma_3.37.11        
## [37] desc_1.2.0            fs_1.2.6              impute_1.55.0        
## [40] ggplot2_3.1.0         digest_0.6.18         stringi_1.2.4        
## [43] bookdown_0.7          ncdf4_1.16            grid_3.5.1           
## [46] rprojroot_1.3-2       tools_3.5.1           magrittr_1.5         
## [49] lazyeval_0.2.1        tibble_1.4.2          crayon_1.3.4         
## [52] Matrix_1.2-14         MASS_7.3-50           xml2_1.2.0           
## [55] iterators_1.0.10      assertthat_0.2.0      rmarkdown_1.10       
## [58] roxygen2_6.1.0        R6_2.3.0              MALDIquant_1.18      
## [61] compiler_3.5.1</code></pre>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#foreword">Foreword</a></li>
      <li><a href="#questions-and-bugs">Questions and bugs</a></li>
      <li>
<a href="#introduction">Introduction</a><ul class="nav nav-pills nav-stacked">
<li><a href="#the-topdownr-data-generation-workflow">The <code>topdownr</code> Data Generation Workflow</a></li>
      </ul>
</li>
      <li>
<a href="#installation-of-additional-software">Installation of Additional Software</a><ul class="nav nav-pills nav-stacked">
<li><a href="#setup-the-thermo-software">Setup the Thermo Software</a></li>
      <li><a href="#setup-xmlmethodchanger">Setup XMLMethodChanger</a></li>
      <li><a href="#setup-operating-system">Setup Operating System</a></li>
      <li><a href="#setup-scanheadsman">Setup ScanHeadsman</a></li>
      </ul>
</li>
      <li><a href="#creating-methods">Creating Methods</a></li>
      <li><a href="#data-preparation-with-topdownr">Data preparation with <code>topdownr</code></a></li>
      <li><a href="#data-acquisition">Data Acquisition</a></li>
      <li>
<a href="#data-preparation">Data Preparation</a><ul class="nav nav-pills nav-stacked">
<li><a href="#extracting-header-information">Extracting Header Information</a></li>
      <li><a href="#convert--raw-files-into-mzml">Convert .raw files into mzML</a></li>
      </ul>
</li>
      <li><a href="#session-info">Session Info</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Sebastian Gibb, Pavel Shliaha, Ole Nørregaard Jensen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
